{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","link","name","likes","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isLiked","some","i","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","onClick","isOpen","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","href","target","style","backgroundImage","avatar","about","map","Footer","years","Date","getFullYear","ImagePopup","onClose","PopupWithForm","title","children","buttonName","formName","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","placeholder","required","minLength","maxLength","id","EditAvatarPopup","onUpdateAvatar","urlRef","useRef","current","ref","AddPlacePopup","onCardCreate","place","setPlace","setLink","api","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialCards","catch","err","console","log","getUserInformation","Provider","deleteCard","newCards","filter","removeLike","newCard","state","c","setLike","addNewCardToServer","updateUserInformation","updateUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ca24a2d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg';\r\nexport default function Header () {\r\n  return (\r\n    <header className=\"header\">\r\n    <img className=\"header__logo\" src={logo} alt=\"Логотип страницы\"/>\r\n    </header>\r\n  )\r\n}","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, link, name, likes, onCardClick, onCardDelete, onCardLike}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const handleCardClick = () => {\r\n    onCardClick({name, link, isOpen: true})\r\n  }\r\n\r\n  const handleCardDelete = () => {\r\n    onCardDelete(card._id)\r\n  }\r\n\r\n  const handleCardLike = () => {\r\n    onCardLike(card)\r\n  }\r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `${isLiked ? 'element__like-button element__like-button_active' : 'element__like-button'}`;\r\n  \r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `card__delete-button ${isOwn ? 'element__delete' : 'element__hidden'}`\r\n  ); \r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <img className=\"element__image\" src={link} alt={name} onClick={handleCardClick}/>\r\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n      <h2 className=\"element__title\">{card.name}</h2>\r\n      <div className=\"element__likes\">\r\n        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleCardLike}></button>\r\n        <p className=\"element__like-count\">{likes.length}</p>\r\n      </div>  \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\"\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardDelete, cards, onCardLike}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <p className=\"profile__avatar\" href=\"#\" target=\"_blank\" onClick={onEditAvatar} style={{backgroundImage: `url(${currentUser.avatar})`}}></p>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <h2 className=\"profile__description\">{currentUser.about}</h2>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n        <button type=\"button\" className=\"profile__add-card\" onClick={onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map((card, _id) => (\r\n          <Card\r\n            card={card}\r\n            link={card.link}\r\n            name={card.name}\r\n            likes={card.likes}\r\n            onCardClick={onCardClick}\r\n            key={card._id} \r\n            onCardDelete={onCardDelete}\r\n            onCardLike={onCardLike}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","export default function Footer() {\r\n  const years = new Date().getFullYear()\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">&copy; {years} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}","function ImagePopup({card, onClose}) {\r\n  return (\r\n    <section className={`image popup popup_type_image ${card.isOpen ? 'popup_opened' : ''}`}>\r\n    <div className=\"image__container image__container_type_image\">\r\n      <button type=\"button\" className=\"popup__close-form\" onClick={onClose}></button>\r\n      <img className=\"image__item\" src={card.link} alt={card.name}/>\r\n      <h3 className=\"image__title\">{card.name}</h3>\r\n    </div>\r\n  </section> \r\n  )\r\n}\r\n\r\nexport default ImagePopup","function PopupWithForm({title, children, buttonName, isOpen, formName, onClose, onSubmit}) {\r\n\r\n  return (\r\n    <section className={isOpen ? `popup popup_type_${formName} popup_opened` : `popup popup_type_${formName}`}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__edit-profile\">{title}</h2>\r\n        <form className=\"popup__form\" name={formName} onSubmit={onSubmit}>\r\n          <button className=\"popup__close-form\" type=\"button\" onClick={onClose}></button>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__submit\">{buttonName}</button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n)}\r\n\r\nexport default PopupWithForm","import React, { useState } from \"react\"\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = useState(\"\")\r\n  const [description, setDescription] = useState(\"\")\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser, isOpen])\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      formName='profile'\r\n      title='Редактировать профиль'\r\n      buttonName='Сохранить'\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n    <input type=\"text\" value={name || \"\"} onChange={handleNameChange} className=\"popup__edit popup__edit_type_name popup__input\" name=\"name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\"/>\r\n    <span className=\"popup__error\" id=\"popup__name__error\"></span>\r\n    <input type=\"text\" value={description || \"\"} onChange={handleDescriptionChange} className=\"popup__edit popup__edit_type_description popup__input\" name=\"about\" placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\"/>\r\n    <span className=\"popup__error\" id=\"popup__about__error\"></span>\r\n  </PopupWithForm>\r\n)}\r\n\r\nexport default EditProfilePopup","import React from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm\"\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const urlRef = React.useRef(null);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    onUpdateAvatar(urlRef.current.value)\r\n    urlRef.current.value = \"\"\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm       \r\n      isOpen={isOpen}\r\n      formName='update_avatar'\r\n      title='Обновить аватар'\r\n      buttonName='Сохранить'\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}> \r\n      <input type=\"url\" ref={urlRef} className=\"avatar__edit avatar__edit_type_url popup__input\" name=\"avatar\" placeholder=\"Ссылка на картинку\" required />\r\n      <span className=\"popup__error\" id=\"avatar__avatar__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React, { useState } from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onCardCreate}) {\r\n\r\n  const [place, setPlace] = useState(\"\")\r\n  const [link, setLink] = useState(\"\")\r\n\r\n  function handleNameChange(e) {\r\n    setPlace(e.target.value)\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    onCardCreate({\r\n      place,\r\n      link,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      formName='add_place'\r\n      title='Новое место'\r\n      buttonName='Сохранить'\r\n      onClose={onClose}\r\n      onSubmit={handleAddPlaceSubmit}\r\n    >\r\n    <input type=\"text\" onChange={handleNameChange} className=\"place__edit place__edit_type_place popup__input\" name=\"name\" value={place || \"\"} placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\"/>\r\n    <span className=\"popup__error\" id=\"place__name__error\"></span>\r\n    <input type=\"url\" onChange={handleLinkChange} className=\"place__edit place__edit_type_url popup__input\" name=\"link\" value={link || \"\"} placeholder=\"Ссылка на картинку\" required/>\r\n    <span className=\"popup__error\" id=\"place__link__error\"></span>\r\n  </PopupWithForm>\r\n)}\r\n\r\nexport default AddPlacePopup","class Api {\r\n  constructor(options) {\r\n    this._url = options.baseUrl\r\n    this._headers = options.headers\r\n  }\r\n\r\n  _checkResponse(res){\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n    headers: this._headers\r\n  })\r\n    .then(this._checkResponse);\r\n  }  \r\n  \r\n  getUserInformation(){\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers,\r\n      method: \"GET\",\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  updateUserInformation(name, about){\r\n    return fetch(`${this._url}/users/me`, {\r\n    method: 'PATCH',\r\n    headers: this._headers,\r\n    body: JSON.stringify({\r\n      name: name,\r\n      about: about\r\n    })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  addNewCardToServer(name, link){\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    })  \r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  updateUserAvatar(avatar){\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  setLike(cardId){\r\n    return fetch(`${this._url}/cards/likes/${cardId}`,{\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  removeLike(cardId){\r\n    return fetch(`${this._url}/cards/likes/${cardId}`,{\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId){\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-23',\r\n  headers: {\r\n    authorization: '5cec2cfc-4275-45ab-817c-d3d0a479cabd',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api","import {useEffect, useState} from \"react\";\r\nimport Header from \"./Header\"\r\nimport Main from \"./Main\"\r\nimport Footer from './Footer'\r\nimport ImagePopup from \"./ImagePopup\"\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport api from \"../utils/api\"\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\r\n  const [selectedCard, setSelectedCard] = useState({isOpen: false,})\r\n  const [currentUser, setCurrentUser] = useState({})\r\n  const [cards, setCards] = useState([])\r\n\r\n  useEffect(() => {\r\n    api.getInitialCards().then(res => {\r\n      setCards(res)\r\n    })\r\n    .catch(err => console.log(err))\r\n  }, [])\r\n\r\n  function handleEditAvatarClick(){\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen)\r\n  }\r\n\r\n  function handleAddPlaceClick(){\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen)\r\n  }\r\n\r\n  function closeAllPopups(){\r\n    setIsAddPlacePopupOpen(false)\r\n    setIsEditAvatarPopupOpen(false)\r\n    setIsEditProfilePopupOpen(false)\r\n    setSelectedCard({isOpen: false})\r\n  }\r\n\r\n  function handleCardClick(card){\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  const handleCardDelete = (id) => {\r\n    return api.deleteCard(id)\r\n    .then(() => {\r\n      const newCards = cards.filter(card => card._id !== id)\r\n      setCards(newCards)\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    if(!isLiked){\r\n      api.setLike(card._id).then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch(err => console.log(err));\r\n    }\r\n    else {\r\n      api.removeLike(card._id).then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch(err => console.log(err));\r\n    }\r\n  }\r\n  function handleUpdateUser({name, about}) {\r\n    return api.updateUserInformation(name, about).then((res) => {\r\n      setCurrentUser(res)\r\n      closeAllPopups()\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    return api.updateUserAvatar(avatar).then((res) => {\r\n      setCurrentUser(res)\r\n      closeAllPopups()\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit({place, link}) {\r\n    return api.addNewCardToServer(place, link).then((res) => {\r\n      setCards([res, ...cards]);\r\n      closeAllPopups()\r\n    })\r\n    .catch(err => console.log(err)) \r\n  }\r\n\r\n  useEffect(() => {\r\n    api.getUserInformation().then(res => {\r\n      setCurrentUser(res)\r\n    })\r\n    .catch(err => console.log(err))\r\n  }, [])\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n        <Main \r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          onCardDelete={handleCardDelete}\r\n          onCardLike={handleCardLike}\r\n          cards={cards}\r\n          />\r\n          <EditAvatarPopup />\r\n          <AddPlacePopup onCardCreate={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\r\n          <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\r\n          <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\r\n          <ImagePopup \r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n            />\r\n        <Footer />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}